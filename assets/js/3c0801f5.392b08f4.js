"use strict";(self.webpackChunkcreate_project_docs=self.webpackChunkcreate_project_docs||[]).push([[7943],{58337:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>t,contentTitle:()=>c,default:()=>a,frontMatter:()=>r,metadata:()=>l,toc:()=>o});var d=n(74848),i=n(28453);const r={sidebar_position:1,description:"Frontend API"},c="Frontend API",l={id:"api-specification/Frontend",title:"Frontend API",description:"Frontend API",source:"@site/docs/api-specification/Frontend.md",sourceDirName:"api-specification",slug:"/api-specification/Frontend",permalink:"/hippio/docs/api-specification/Frontend",draft:!1,unlisted:!1,editUrl:"https://github.com/Civic-Interactions-Lab/hippio/edit/main/documentation/docs/api-specification/Frontend.md",tags:[],version:"current",lastUpdatedBy:"Manan Patel",sidebarPosition:1,frontMatter:{sidebar_position:1,description:"Frontend API"},sidebar:"docsSidebar",previous:{title:"API Specification",permalink:"/hippio/docs/category/api-specification"},next:{title:"Backend API",permalink:"/hippio/docs/api-specification/Backend"}},t={},o=[{value:"AACInterface.tsx",id:"aacinterfacetsx",level:2},{value:"<code>AacInterfaceProps</code>",id:"aacinterfaceprops",level:3},{value:"<code>const AacInterface: React.FC&lt;AacInterfaceProps&gt;</code>",id:"const-aacinterface-reactfcaacinterfaceprops",level:3},{value:"State",id:"state",level:3},{value:"<code>handleFoodClick(food: AacFood): void</code>",id:"handlefoodclickfood-aacfood-void",level:4},{value:"<code>handleCategoryClick(category): void</code>",id:"handlecategoryclickcategory-void",level:4},{value:"<code>handleBackClick(): void</code>",id:"handlebackclick-void",level:4},{value:"<code>handleVerbClick(verb: AacVerb): void</code>",id:"handleverbclickverb-aacverb-void",level:4},{value:"<code>playAudioWithDelay(audioPath: string | undefined): void</code>",id:"playaudiowithdelayaudiopath-string--undefined-void",level:4},{value:"<code>playAudioWithoutDelay(audioPath: string | undefined): void</code>",id:"playaudiowithoutdelayaudiopath-string--undefined-void",level:4},{value:"<code>audio.onerror = () =&gt; { ... }</code>",id:"audioonerror------",level:4},{value:"<code>renderCategoryView(): JSX.Element</code>",id:"rendercategoryview-jsxelement",level:4},{value:"<code>renderFoodsView(): JSX.Element | null</code>",id:"renderfoodsview-jsxelement--null",level:4},{value:"<code>return ( &lt;div className=&quot;aac-container&quot;&gt; &lt;div className=&quot;aac-device&quot;&gt; &lt;h1&gt; AAC Device &lt;</code>",id:"return--div-classnameaac-container-div-classnameaac-device-h1-aac-device-",level:4},{value:"AacPage.tsx",id:"aacpagetsx",level:2},{value:"Route Parameters",id:"route-parameters",level:3},{value:"WebSocket Integration",id:"websocket-integration",level:3},{value:"EventBus Integration",id:"eventbus-integration",level:3},{value:"Foods.ts",id:"foodsts",level:2},{value:"<code>export interface AacFood</code>",id:"export-interface-aacfood",level:4},{value:"<code>export interface AacCategory</code>",id:"export-interface-aaccategory",level:4},{value:"<code>export interface AacData</code>",id:"export-interface-aacdata",level:4},{value:"<code>export const AAC_DATA: AacData = aacData as AacData</code>",id:"export-const-aac_data-aacdata--aacdata-as-aacdata",level:4},{value:"Game.ts",id:"gamets",level:2},{value:"<code>class: Game extends Phaser.Scene</code>",id:"class-game-extends-phaserscene",level:3},{value:"Data Fields",id:"data-fields",level:3},{value:"Methods",id:"methods",level:3},{value:"<code>constructor()</code>",id:"constructor",level:4},{value:"<code>init(data)</code>",id:"initdata",level:4},{value:"<code>preload()</code>",id:"preload",level:4},{value:"<code>create()</code>",id:"create",level:4},{value:"<code>update()</code>",id:"update",level:4},{value:"Gameplay Methods",id:"gameplay-methods",level:3},{value:"<code>addPlayer(playerId: string, color?: string)</code>",id:"addplayerplayerid-string-color-string",level:4},{value:"<code>getEdgeCursors(edge, cursors)</code>",id:"getedgecursorsedge-cursors",level:4},{value:"<code>handlePointer(pointer)</code>",id:"handlepointerpointer",level:4},{value:"WebSocket Interaction",id:"websocket-interaction",level:3},{value:"<code>requestStartTimer()</code>",id:"requeststarttimer",level:4},{value:"<code>applyModeSettings(settings)</code>",id:"applymodesettingssettings",level:4},{value:"EventBus Integration",id:"eventbus-integration-1",level:3},{value:"<code>applyEffectToPlayer(userId, effect)</code>",id:"applyeffecttoplayeruserid-effect",level:4},{value:"<code>handleFruitCollision(playerId, fruit)</code>",id:"handlefruitcollisionplayerid-fruit",level:4},{value:"Food Management",id:"food-management",level:3},{value:"<code>setTargetFood(foodId, effect?)</code>",id:"settargetfoodfoodid-effect",level:4},{value:"<code>removeFoodByInstanceId(instanceId)</code>",id:"removefoodbyinstanceidinstanceid",level:4},{value:"<code>syncFoodState(serverFoods)</code>",id:"syncfoodstateserverfoods",level:4},{value:"Timer",id:"timer",level:3},{value:"<code>updateTimerUI(secondsLeft)</code>",id:"updatetimeruisecondsleft",level:4},{value:"<code>handleGameOver()</code>",id:"handlegameover",level:4},{value:"Utility",id:"utility",level:3},{value:"<code>getEdgeAssignments()</code>",id:"getedgeassignments",level:4},{value:"PhaserGame.tsx",id:"phasergametsx",level:2},{value:"Overview",id:"overview",level:3},{value:"<code>currentActiveScene</code>",id:"currentactivescene",level:3},{value:"<strong>Ref Type: <code>IRefPhaserGame</code></strong>",id:"ref-type-irefphasergame",level:3},{value:"<strong>Local State (Inside Component)</strong>",id:"local-state-inside-component",level:3},{value:"<code>useLayoutEffect()</code>",id:"uselayouteffect",level:4},{value:"<code>useEffect()</code>",id:"useeffect",level:4},{value:"<code>return ( &lt;div id=&quot;game-container&quot; /&gt; )</code>",id:"return--div-idgame-container--",level:4},{value:"LandingPage.tsx",id:"landingpagetsx",level:2},{value:"Overview",id:"overview-1",level:3},{value:"Data Fields",id:"data-fields-1",level:3},{value:"WebSocket Fields",id:"websocket-fields",level:3},{value:"<code>handleStart(): void</code>",id:"handlestart-void",level:4},{value:"<code>handleCreateGame(): void</code>",id:"handlecreategame-void",level:4},{value:"<code>handleChange(value: string, index: number): void</code>",id:"handlechangevalue-string-index-number-void",level:4},{value:"<code>handleKeyDown(e: KeyboardEvent, index: number): void</code>",id:"handlekeydowne-keyboardevent-index-number-void",level:4},{value:"<code>handlePaste(e: ClipboardEvent): void</code>",id:"handlepastee-clipboardevent-void",level:4},{value:"Return",id:"return",level:4},{value:"Navigation Logic",id:"navigation-logic",level:3},{value:"ButtonClick.tsx",id:"buttonclicktsx",level:2},{value:"<code>ButtonClick</code> Component",id:"buttonclick-component",level:3},{value:"Usage",id:"usage",level:4},{value:"<code>interface ButtonClickProps</code>",id:"interface-buttonclickprops",level:4},{value:"<code>function ButtonClick({ text, onClick }: ButtonClickProps): JSX.Element</code>",id:"function-buttonclick-text-onclick--buttonclickprops-jsxelement",level:4},{value:"PhaserPage.tsx",id:"phaserpagetsx",level:2},{value:"Data Fields",id:"data-fields-2",level:3},{value:"JOIN on MOUNT",id:"join-on-mount",level:3},{value:"<code>useEffect(() =&gt; {...}, [sessionId, userId, role])</code>",id:"useeffect---sessionid-userid-role",level:4},{value:"REMOTE PLAYER MOVEMENT SYNC",id:"remote-player-movement-sync",level:3},{value:"<code>useEffect(() =&gt; {...}, [lastMessage, userId, clearLastMessage])</code>",id:"useeffect---lastmessage-userid-clearlastmessage",level:4},{value:"GAME MODE BROADCAST",id:"game-mode-broadcast",level:3},{value:"<code>useEffect(() =&gt; {...}, [lastMessage, clearLastMessage])</code>",id:"useeffect---lastmessage-clearlastmessage",level:4},{value:"FOOD STATE SYNC",id:"food-state-sync",level:3},{value:"<code>useEffect(() =&gt; {...}, [lastMessage, clearLastMessage])</code>",id:"useeffect---lastmessage-clearlastmessage-1",level:4},{value:"FRUIT EATEN LOCAL (EMITTED FROM PHASER)",id:"fruit-eaten-local-emitted-from-phaser",level:3},{value:"<code>useEffect(() =&gt; {...}, [sendMessage, sessionId])</code>",id:"useeffect---sendmessage-sessionid",level:4},{value:"SCORE UPDATE BROADCAST (EVENTBUS)",id:"score-update-broadcast-eventbus",level:3},{value:"<code>useEffect(() =&gt; {...}, [])</code>",id:"useeffect---",level:4},{value:"TIMER UPDATE BROADCAST (EVENTBUS)",id:"timer-update-broadcast-eventbus",level:3},{value:"<code>useEffect(() =&gt; {...}, [])</code>",id:"useeffect----1",level:4},{value:"GAME OVER \u2192 VICTORY NAVIGATION",id:"game-over--victory-navigation",level:3},{value:"<code>useEffect(() =&gt; {...}, [navigate, sessionId, scores, connectedUsers])</code>",id:"useeffect---navigate-sessionid-scores-connectedusers",level:4},{value:"SET EDGE SYNC WITH BACKEND",id:"set-edge-sync-with-backend",level:3},{value:"<code>useEffect(() =&gt; {...}, [sendMessage, sessionId, userId, location.state?.role])</code>",id:"useeffect---sendmessage-sessionid-userid-locationstaterole",level:4},{value:"Presenter.tsx",id:"presentertsx",level:2},{value:"Data Fields",id:"data-fields-3",level:3},{value:"Lifecycle &amp; Effects",id:"lifecycle--effects",level:3},{value:"<code>useEffect(() =&gt; {...}, [mode])</code>",id:"useeffect---mode",level:4},{value:"<code>useEffect(() =&gt; {...}, [sessionId, isConnected, sendMessage])</code>",id:"useeffect---sessionid-isconnected-sendmessage",level:4},{value:"Functions",id:"functions",level:3},{value:"<code>cycleMode(direction: &#39;left&#39; | &#39;right&#39;): void</code>",id:"cyclemodedirection-left--right-void",level:4},{value:"<code>playModeAudio(selectedMode: &#39;Easy&#39; | &#39;Medium&#39; | &#39;Hard&#39;): void</code>",id:"playmodeaudioselectedmode-easy--medium--hard-void",level:4},{value:"<code>handleCancel(): void</code>",id:"handlecancel-void",level:4},{value:"<code>handleCopy(): void</code>",id:"handlecopy-void",level:4},{value:"<code>handleStartGame(): void</code>",id:"handlestartgame-void",level:4},{value:"<code>renderHippoSlot(player: any, index: number): JSX.Element</code>",id:"renderhipposlotplayer-any-index-number-jsxelement",level:4},{value:"Validation",id:"validation",level:3},{value:"RoleSelect.tsx",id:"roleselecttsx",level:2},{value:"Data Fields",id:"data-fields-4",level:3},{value:"Lifecycle &amp; Effects",id:"lifecycle--effects-1",level:3},{value:"<code>useEffect(() =&gt; {...}, [gameStarted, waiting, role, selectedColor, sessionId, username, navigate])</code>",id:"useeffect---gamestarted-waiting-role-selectedcolor-sessionid-username-navigate",level:4},{value:"<code>useEffect(() =&gt; {...}, [sessionId, username, isConnected, sendMessage])</code>",id:"useeffect---sessionid-username-isconnected-sendmessage",level:4},{value:"<code>useEffect(() =&gt; {...}, [connectedUsers])</code>",id:"useeffect---connectedusers",level:4},{value:"<code>useEffect(() =&gt; {...}, [connectedUsers, role, isAacRoleFull])</code>",id:"useeffect---connectedusers-role-isaacrolefull",level:4},{value:"Functions",id:"functions-1",level:3},{value:"<code>handleStart(): void</code>",id:"handlestart-void-1",level:4},{value:"<code>handleRoleSelect(selectedRole: string): void</code>",id:"handleroleselectselectedrole-string-void",level:4},{value:"<code>handleColorSelect(color: string): void</code>",id:"handlecolorselectcolor-string-void",level:4},{value:"<code>handleCancel(): void</code>",id:"handlecancel-void-1",level:4},{value:"Validation",id:"validation-1",level:3},{value:"Victory.tsx",id:"victorytsx",level:2},{value:"Data Fields",id:"data-fields-5",level:3},{value:"Functions",id:"functions-2",level:3},{value:"<code>handleCancel(): void</code>",id:"handlecancel-void-2",level:4}];function h(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.h1,{id:"frontend-api",children:"Frontend API"}),"\n",(0,d.jsx)(s.h2,{id:"aacinterfacetsx",children:"AACInterface.tsx"}),"\n",(0,d.jsx)(s.h3,{id:"aacinterfaceprops",children:(0,d.jsx)(s.code,{children:"AacInterfaceProps"})}),"\n",(0,d.jsx)(s.p,{children:"Defines the props for the AacInterface component."}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Field"}),(0,d.jsx)(s.th,{children:"Type"}),(0,d.jsx)(s.th,{children:"Description"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"sessionId"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string"})}),(0,d.jsx)(s.td,{children:"The session ID for the current game"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"userId?"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string"})}),(0,d.jsx)(s.td,{children:"Optional user ID"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"role?"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string"})}),(0,d.jsx)(s.td,{children:"Optional role of the user"})]})]})]}),"\n",(0,d.jsx)(s.h3,{id:"const-aacinterface-reactfcaacinterfaceprops",children:(0,d.jsx)(s.code,{children:"const AacInterface: React.FC<AacInterfaceProps>"})}),"\n",(0,d.jsx)(s.p,{children:"AacInterface component provides an interface for users to select foods and play associated audio clips."}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"props"}),": ",(0,d.jsx)(s.code,{children:"AacInterfaceProps"})," \u2014 The properties for the component."]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns:"})," ",(0,d.jsx)(s.code,{children:"JSX.Element"})," \u2014 The rendered component."]}),"\n"]}),"\n",(0,d.jsx)(s.h3,{id:"state",children:"State"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"State Hook"}),(0,d.jsx)(s.th,{children:"Type"}),(0,d.jsx)(s.th,{children:"Purpose"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:"selectedFood"})," / ",(0,d.jsx)(s.code,{children:"setSelectedFood"})]}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"AacFood | null"})}),(0,d.jsx)(s.td,{children:"Tracks currently selected food"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:"selectedCategory"})," / ",(0,d.jsx)(s.code,{children:"setSelectedCategory"})]}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string | null"})}),(0,d.jsx)(s.td,{children:"Tracks currently selected food category"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:"isAudioPlaying"})," / ",(0,d.jsx)(s.code,{children:"setIsAudioPlaying"})]}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"boolean"})}),(0,d.jsx)(s.td,{children:"Tracks if an audio clip is currently playing"})]})]})]}),"\n",(0,d.jsx)(s.h4,{id:"handlefoodclickfood-aacfood-void",children:(0,d.jsx)(s.code,{children:"handleFoodClick(food: AacFood): void"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Handles user clicking on a food item."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"food: AacFood"})," \u2014 The clicked food item."]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns:"})," ",(0,d.jsx)(s.code,{children:"void"})]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"handlecategoryclickcategory-void",children:(0,d.jsx)(s.code,{children:"handleCategoryClick(category): void"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Handles clicking on a food category."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"category: { categoryName: string, ... }"})," \u2014 The selected category."]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns:"})," ",(0,d.jsx)(s.code,{children:"void"})]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"handlebackclick-void",children:(0,d.jsx)(s.code,{children:"handleBackClick(): void"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Navigates back from food view to category view."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns:"})," ",(0,d.jsx)(s.code,{children:"void"})]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"handleverbclickverb-aacverb-void",children:(0,d.jsx)(s.code,{children:"handleVerbClick(verb: AacVerb): void"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Handles the user selecting a modifier verb (burn, freeze, etc.)"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"verb: AacVerb"})," \u2014 The selected modifier."]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns:"})," ",(0,d.jsx)(s.code,{children:"void"})]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"playaudiowithdelayaudiopath-string--undefined-void",children:(0,d.jsx)(s.code,{children:"playAudioWithDelay(audioPath: string | undefined): void"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Plays audio after a delay and updates UI state."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"audioPath: string \\| undefined"})," \u2014 Path to the audio file."]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns:"})," ",(0,d.jsx)(s.code,{children:"void"})]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions:"})," Logs error if audio fails to play."]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"playaudiowithoutdelayaudiopath-string--undefined-void",children:(0,d.jsx)(s.code,{children:"playAudioWithoutDelay(audioPath: string | undefined): void"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Plays audio immediately without affecting UI state."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters:"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"audioPath: string \\| undefined"})}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns:"})," ",(0,d.jsx)(s.code,{children:"void"})]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"audioonerror------",children:(0,d.jsx)(s.code,{children:"audio.onerror = () => { ... }"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Handles audio playback errors."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions:"})," Captures and logs playback errors."]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"rendercategoryview-jsxelement",children:(0,d.jsx)(s.code,{children:"renderCategoryView(): JSX.Element"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Renders UI for selecting a food category."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns:"})," ",(0,d.jsx)(s.code,{children:"JSX.Element"})," \u2014 Category selection UI"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"renderfoodsview-jsxelement--null",children:(0,d.jsx)(s.code,{children:"renderFoodsView(): JSX.Element | null"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Renders UI for selecting a food in the selected category."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns:"})," ",(0,d.jsx)(s.code,{children:"JSX.Element \\| null"})," \u2014 Food selection UI or null if no category is selected"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"return--div-classnameaac-container-div-classnameaac-device-h1-aac-device-",children:(0,d.jsx)(s.code,{children:'return ( <div className="aac-container"> <div className="aac-device"> <h1> AAC Device <'})}),"\n",(0,d.jsx)(s.p,{children:"Renders the main AAC interface, including the selected food and category views."}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns:"})," ",(0,d.jsx)(s.code,{children:"JSX.Element"})," \u2014 The rendered AAC interface."]}),"\n"]}),"\n",(0,d.jsx)(s.h2,{id:"aacpagetsx",children:"AacPage.tsx"}),"\n",(0,d.jsx)(s.p,{children:"Renders the AAC (Augmentative and Alternative Communication) interface for selecting food items within a specific game session."}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Parameters:"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:"None \u2014 uses URL parameters and application context internally."}),"\n"]}),"\n",(0,d.jsx)(s.p,{children:(0,d.jsx)(s.strong,{children:"Returns:"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"JSX.Element"})," \u2014 The rendered AAC interface or a fallback message if ",(0,d.jsx)(s.code,{children:"sessionId"})," is missing."]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"route-parameters",children:"Route Parameters"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Param"}),(0,d.jsx)(s.th,{children:"Type"}),(0,d.jsx)(s.th,{children:"Description"}),(0,d.jsx)(s.th,{children:"Example"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"sessionId"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string"})}),(0,d.jsx)(s.td,{children:"Unique identifier for the game session"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"'HG20Y'"})})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"userId"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string"})}),(0,d.jsx)(s.td,{children:"Identifier for the AAC user"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"'aacUser1'"})})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:"role"}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string"})}),(0,d.jsxs)(s.td,{children:["The role of the user (e.g., ",(0,d.jsx)(s.code,{children:"'AAC User'"}),")"]}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"'AAC User'"})})]})]})]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"websocket-integration",children:"WebSocket Integration"}),"\n",(0,d.jsxs)(s.p,{children:["The component uses ",(0,d.jsx)(s.code,{children:"useWebSocket"})," to access:"]}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"lastMessage"}),": Most recent WebSocket message."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"connectedUsers"}),": Array of currently connected users."]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"eventbus-integration",children:"EventBus Integration"}),"\n",(0,d.jsx)(s.p,{children:"The component listens to the following event:"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"scoreUpdate"})," \u2014 Updates the internal ",(0,d.jsx)(s.code,{children:"scores"})," state when emitted:","\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-tsx",children:"useEffect(() => {\n  const handleScoreUpdate = ({ scores }) => setScores(scores);\n  EventBus.on('scoreUpdate', handleScoreUpdate);\n  return () => EventBus.off('scoreUpdate', handleScoreUpdate);\n}, []);\n"})}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(s.h2,{id:"foodsts",children:"Foods.ts"}),"\n",(0,d.jsx)(s.h4,{id:"export-interface-aacfood",children:(0,d.jsx)(s.code,{children:"export interface AacFood"})}),"\n",(0,d.jsx)(s.p,{children:"Defines the structure for a single food item in the AAC system."}),"\n",(0,d.jsx)(s.h4,{id:"export-interface-aaccategory",children:(0,d.jsx)(s.code,{children:"export interface AacCategory"})}),"\n",(0,d.jsx)(s.p,{children:"Defines the structure for a food category in the AAC system."}),"\n",(0,d.jsx)(s.h4,{id:"export-interface-aacdata",children:(0,d.jsx)(s.code,{children:"export interface AacData"})}),"\n",(0,d.jsx)(s.p,{children:"Defines the structure for the entire AAC data, which includes multiple categories."}),"\n",(0,d.jsx)(s.h4,{id:"export-const-aac_data-aacdata--aacdata-as-aacdata",children:(0,d.jsx)(s.code,{children:"export const AAC_DATA: AacData = aacData as AacData"})}),"\n",(0,d.jsx)(s.p,{children:"Exports the AAC data, which includes categories and their respective foods. This data is imported from a JSON file."}),"\n",(0,d.jsx)(s.h2,{id:"gamets",children:"Game.ts"}),"\n",(0,d.jsx)(s.h3,{id:"class-game-extends-phaserscene",children:(0,d.jsx)(s.code,{children:"class: Game extends Phaser.Scene"})}),"\n",(0,d.jsx)(s.h3,{id:"data-fields",children:"Data Fields"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Field"}),(0,d.jsx)(s.th,{children:"Type"}),(0,d.jsx)(s.th,{children:"Purpose"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"sessionId"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string"})}),(0,d.jsx)(s.td,{children:"Current WebSocket session ID"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"hippo"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Hippo | null"})}),(0,d.jsx)(s.td,{children:"Local player\u2019s hippo sprite"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"foods"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Phaser.Physics.Arcade.Group"})}),(0,d.jsx)(s.td,{children:"Group of all active food sprites"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"currentTargetFoodId"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string | null"})}),(0,d.jsx)(s.td,{children:"ID of food chosen by AAC user"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"currentTargetFoodEffect"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"AacVerb | null"})}),(0,d.jsx)(s.td,{children:"Active effect (burn, freeze, grow)"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"playerScores"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Record<string, number>"})}),(0,d.jsx)(s.td,{children:"Map of player scores"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"players"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Record<string, Hippo>"})}),(0,d.jsx)(s.td,{children:"Map of player IDs to hippo sprites"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"edgeAssignments"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Record<string, string>"})}),(0,d.jsx)(s.td,{children:"Screen edge (top, bottom, etc.) per player"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"availableEdges"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string[]"})}),(0,d.jsx)(s.td,{children:"Remaining edges available for assignment"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"cursors"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Phaser.Types.Input.Keyboard.CursorKeys"})}),(0,d.jsx)(s.td,{children:"Arrow key input"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"sendMessage"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"(msg: any) => void"})}),(0,d.jsx)(s.td,{children:"WebSocket message sender"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"localPlayerId"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string"})}),(0,d.jsx)(s.td,{children:"Current user\u2019s ID"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"usePointerControl"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"boolean"})}),(0,d.jsx)(s.td,{children:"Whether pointer dragging is active"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"isKeyboardActive"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"boolean"})}),(0,d.jsx)(s.td,{children:"Whether keyboard is being used"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"role"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string"})}),(0,d.jsx)(s.td,{children:'"Hippo Player", "Spectator", "AAC User"'})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"lastSentX/Y"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"number | null"})}),(0,d.jsx)(s.td,{children:"Last movement sync position"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"lastMoveSentAt"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"number"})}),(0,d.jsx)(s.td,{children:"Timestamp of last movement sent"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"modeSettings"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"ModeSettings"})}),(0,d.jsx)(s.td,{children:"Current game mode rules (fruitSpeed, penalties)"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"hasUserInteracted"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"boolean"})}),(0,d.jsx)(s.td,{children:"Used to hide swipe tutorial"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"swipeHint"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Phaser.GameObjects.Image | undefined"})}),(0,d.jsx)(s.td,{children:"Swipe hint image"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"timerText"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Phaser.GameObjects.Text"})}),(0,d.jsx)(s.td,{children:"Countdown timer UI"})]})]})]}),"\n",(0,d.jsx)(s.h3,{id:"methods",children:"Methods"}),"\n",(0,d.jsx)(s.h4,{id:"constructor",children:(0,d.jsx)(s.code,{children:"constructor()"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Initializes the Phaser scene with ID ",(0,d.jsx)(s.code,{children:'"Game"'}),"."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": None"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Post-conditions"}),": Scene is registered with the Phaser runtime."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": ",(0,d.jsx)(s.code,{children:"Game"})," instance"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"initdata",children:(0,d.jsx)(s.code,{children:"init(data)"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Initializes the scene with player/session/game mode info."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"data: { sendMessage, localPlayerId, sessionId, role, connectedUsers?, modeSettings? }"})}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": Called from React before ",(0,d.jsx)(s.code,{children:"create()"}),"."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Post-conditions"}),": Internal state and players are set up."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"preload",children:(0,d.jsx)(s.code,{children:"preload()"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Loads images and assets into memory."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": None"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Post-conditions"}),": Images available to use in scene."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"create",children:(0,d.jsx)(s.code,{children:"create()"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Builds the game world, sets up input and listeners."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": ",(0,d.jsx)(s.code,{children:"preload()"})," must have been called."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Post-conditions"}),": Scene is active."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"update",children:(0,d.jsx)(s.code,{children:"update()"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Handles input, movement, and syncs positions."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": ",(0,d.jsx)(s.code,{children:"create()"})," must have been called."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Post-conditions"}),": Scene reflects latest state each frame."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": WebSocket send failure is caught and logged:","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"'[Game.update] Failed to send player movement'"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"gameplay-methods",children:"Gameplay Methods"}),"\n",(0,d.jsx)(s.h4,{id:"addplayerplayerid-string-color-string",children:(0,d.jsx)(s.code,{children:"addPlayer(playerId: string, color?: string)"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Adds a new hippo to the scene at an available edge."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": ",(0,d.jsx)(s.code,{children:"connectedUsers"})," passed to ",(0,d.jsx)(s.code,{children:"init()"})]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Post-conditions"}),": Hippo sprite is visible and tracked"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"getedgecursorsedge-cursors",children:(0,d.jsx)(s.code,{children:"getEdgeCursors(edge, cursors)"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Remaps arrow keys to match orientation of assigned edge."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"edge: Edge"})," -- assigned side of screen"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"cursors: CursorKeys"})," -- raw keyboard input"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": Remapped ",(0,d.jsx)(s.code,{children:"CursorKeys"})," object"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"handlepointerpointer",children:(0,d.jsx)(s.code,{children:"handlePointer(pointer)"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Updates hippo position based on touch/mouse drag."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"pointer: Phaser.Input.Pointer"})}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": Only runs for local Hippo Player"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Post-conditions"}),": Hippo target position is updated"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"websocket-interaction",children:"WebSocket Interaction"}),"\n",(0,d.jsx)(s.h4,{id:"requeststarttimer",children:(0,d.jsx)(s.code,{children:"requestStartTimer()"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Sends ",(0,d.jsx)(s.code,{children:'"START_TIMER"'})," message to backend"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": Scene must be active"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Post-conditions"}),": Backend starts countdown"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"applymodesettingssettings",children:(0,d.jsx)(s.code,{children:"applyModeSettings(settings)"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Updates game difficulty rules"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),": ",(0,d.jsx)(s.code,{children:"settings: ModeSettings"})]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": Called before game starts"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"eventbus-integration-1",children:"EventBus Integration"}),"\n",(0,d.jsx)(s.h4,{id:"applyeffecttoplayeruserid-effect",children:(0,d.jsx)(s.code,{children:"applyEffectToPlayer(userId, effect)"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Applies freeze, grow, burn effect with tint to a hippo"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"userId: string"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"effect: AacVerb"})}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": ",(0,d.jsx)(s.code,{children:"effect"})," must be valid"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Post-conditions"}),": Visual and gameplay change applied"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"handlefruitcollisionplayerid-fruit",children:(0,d.jsx)(s.code,{children:"handleFruitCollision(playerId, fruit)"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Triggered when a hippo touches fruit"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"playerId: string"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"fruit: GameObject"})}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": Collision must occur"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Post-conditions"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:"Fruit disappears if correct"}),"\n",(0,d.jsx)(s.li,{children:"Score updated"}),"\n",(0,d.jsx)(s.li,{children:"Effects sent if enabled"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["WebSocket errors logged:","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"'[Game.handleFruitCollision] Error sending score update:'"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"food-management",children:"Food Management"}),"\n",(0,d.jsx)(s.h4,{id:"settargetfoodfoodid-effect",children:(0,d.jsx)(s.code,{children:"setTargetFood(foodId, effect?)"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Marks a fruit as the AAC target."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"foodId: string"})}),"\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"effect?: AacVerb | null"})}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"removefoodbyinstanceidinstanceid",children:(0,d.jsx)(s.code,{children:"removeFoodByInstanceId(instanceId)"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Deletes a fruit from the screen."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"instanceId: string"})}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"syncfoodstateserverfoods",children:(0,d.jsx)(s.code,{children:"syncFoodState(serverFoods)"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Matches client-side fruits to server state"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"serverFoods: FoodState[]"})}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": Called on ",(0,d.jsx)(s.code,{children:"FOOD_STATE_UPDATE"})]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"timer",children:"Timer"}),"\n",(0,d.jsx)(s.h4,{id:"updatetimeruisecondsleft",children:(0,d.jsx)(s.code,{children:"updateTimerUI(secondsLeft)"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Changes on-screen timer text."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),": ",(0,d.jsx)(s.code,{children:"secondsLeft: number"})]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"handlegameover",children:(0,d.jsx)(s.code,{children:"handleGameOver()"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),': Stops game and displays "Game Over" overlay']}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"utility",children:"Utility"}),"\n",(0,d.jsx)(s.h4,{id:"getedgeassignments",children:(0,d.jsx)(s.code,{children:"getEdgeAssignments()"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Returns mapping of players to their screen edges"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": ",(0,d.jsx)(s.code,{children:"Record<string, string>"})]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.h2,{id:"phasergametsx",children:"PhaserGame.tsx"}),"\n",(0,d.jsx)(s.h3,{id:"overview",children:"Overview"}),"\n",(0,d.jsx)(s.p,{children:"This is a React component that:"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:"Mounts and manages a Phaser game instance"}),"\n",(0,d.jsx)(s.li,{children:"Forwards access to the game and scene via a shared ref"}),"\n",(0,d.jsxs)(s.li,{children:["Responds to Phaser's ",(0,d.jsx)(s.code,{children:"'current-scene-ready'"})," event"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"currentactivescene",children:(0,d.jsx)(s.code,{children:"currentActiveScene"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Type"}),": ",(0,d.jsx)(s.code,{children:"(scene_instance: Phaser.Scene) => void"})]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": A callback function passed from the parent that receives the Phaser scene instance once it becomes ready."]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"ref-type-irefphasergame",children:(0,d.jsxs)(s.strong,{children:["Ref Type: ",(0,d.jsx)(s.code,{children:"IRefPhaserGame"})]})}),"\n",(0,d.jsxs)(s.p,{children:["This is the object passed back to the parent through the forwarded ",(0,d.jsx)(s.code,{children:"ref"}),"."]}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Field"}),(0,d.jsx)(s.th,{children:"Type"}),(0,d.jsx)(s.th,{children:"Purpose"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"game"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Phaser.Game | null"})}),(0,d.jsxs)(s.td,{children:["The root Phaser game instance, created with ",(0,d.jsx)(s.code,{children:"StartGame()"})]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"scene"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Phaser.Scene | null"})}),(0,d.jsxs)(s.td,{children:["The current scene instance that is emitted by ",(0,d.jsx)(s.code,{children:"EventBus"})]})]})]})]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"local-state-inside-component",children:(0,d.jsx)(s.strong,{children:"Local State (Inside Component)"})}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Field"}),(0,d.jsx)(s.th,{children:"Type"}),(0,d.jsx)(s.th,{children:"Purpose"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"game"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"React.RefObject<Phaser.Game | null>"})}),(0,d.jsx)(s.td,{children:"Mutable reference to the Phaser game instance that doesn't change value when the component re-renders"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"ref"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"React.ForwardedRef<IRefPhaserGame>"})}),(0,d.jsxs)(s.td,{children:["Exposes ",(0,d.jsx)(s.code,{children:"{ game, scene }"})," to parent via ",(0,d.jsx)(s.code,{children:"ref.current"})," or callback"]})]})]})]}),"\n",(0,d.jsx)(s.h4,{id:"uselayouteffect",children:(0,d.jsx)(s.code,{children:"useLayoutEffect()"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Creates the Phaser game instance on mount and destroys it on unmount."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),": None directly (hook-based)."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:"Component must be mounted."}),"\n",(0,d.jsxs)(s.li,{children:["A container with ",(0,d.jsx)(s.code,{children:'id="game-container"'})," must exist in the DOM."]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Post-conditions"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"game.current"})," is assigned a ",(0,d.jsx)(s.code,{children:"Phaser.Game"})," instance."]}),"\n",(0,d.jsxs)(s.li,{children:["The ",(0,d.jsx)(s.code,{children:"ref"})," receives ",(0,d.jsx)(s.code,{children:"{ game, scene: null }"}),"."]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": A cleanup function that:","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["Destroys the game (",(0,d.jsx)(s.code,{children:"game.current.destroy(true)"}),")"]}),"\n",(0,d.jsxs)(s.li,{children:["Clears ",(0,d.jsx)(s.code,{children:"game.current"})," to ",(0,d.jsx)(s.code,{children:"null"}),"."]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h4,{id:"useeffect",children:(0,d.jsx)(s.code,{children:"useEffect()"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Waits for ",(0,d.jsx)(s.code,{children:"'current-scene-ready'"})," from the Phaser game and:","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:"Injects AAC food keys into the scene"}),"\n",(0,d.jsxs)(s.li,{children:["Calls ",(0,d.jsx)(s.code,{children:"currentActiveScene(scene)"})," if provided"]}),"\n",(0,d.jsxs)(s.li,{children:["Updates the forwarded ",(0,d.jsx)(s.code,{children:"ref"})," with ",(0,d.jsx)(s.code,{children:"{ game, scene }"})]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),": None directly (hook-based). Uses:","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"EventBus.on('current-scene-ready', scene_instance => ...)"})}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["Phaser game must emit ",(0,d.jsx)(s.code,{children:"EventBus"})," event ",(0,d.jsx)(s.code,{children:"'current-scene-ready'"})]}),"\n",(0,d.jsxs)(s.li,{children:["Scene must support ",(0,d.jsx)(s.code,{children:".setFoodKeys()"})," method (optional)"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Post-conditions"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:"Food keys are injected into the scene"}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"currentActiveScene(scene)"})," callback is executed"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"ref.current"})," is updated with the live ",(0,d.jsx)(s.code,{children:"scene"})," instance"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": A cleanup function that removes the event listener:","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"EventBus.removeListener('current-scene-ready');"})}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None."]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h4,{id:"return--div-idgame-container--",children:(0,d.jsx)(s.code,{children:'return ( <div id="game-container" /> )'})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Renders a DOM element into which the Phaser game will mount its canvas."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": Used by ",(0,d.jsx)(s.code,{children:'StartGame("game-container")'}),"."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Post-conditions"}),": Phaser canvas is injected into this ",(0,d.jsx)(s.code,{children:"div"}),"."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": JSX element:","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:'<div id="game-container"></div>'})}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None."]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h2,{id:"landingpagetsx",children:"LandingPage.tsx"}),"\n",(0,d.jsx)(s.h3,{id:"overview-1",children:"Overview"}),"\n",(0,d.jsxs)(s.p,{children:["User interface for joining or creating a game session.",(0,d.jsx)(s.br,{}),"\n","This component allows the user to enter a 5-character session code to join a game,",(0,d.jsx)(s.br,{}),"\n","or to create a new game session by generating and saving a new session ID."]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"data-fields-1",children:"Data Fields"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Field"}),(0,d.jsx)(s.th,{children:"Type"}),(0,d.jsx)(s.th,{children:"Description"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"code"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string[]"})}),(0,d.jsx)(s.td,{children:"Stores user input for each character of the session code"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"inputsRef"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"useRef<HTMLInputElement[]>"})}),(0,d.jsx)(s.td,{children:"References the input boxes"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"isValidCode"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"boolean"})}),(0,d.jsx)(s.td,{children:"Shows visual feedback when code is invalid"})]})]})]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"websocket-fields",children:"WebSocket Fields"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Field"}),(0,d.jsx)(s.th,{children:"Type"}),(0,d.jsx)(s.th,{children:"Description"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"isConnected"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"boolean"})}),(0,d.jsx)(s.td,{children:"WebSocket connection status"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"lastMessage"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"any"})}),(0,d.jsx)(s.td,{children:"Most recent message received"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"sendMessage"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"(msg) => void"})}),(0,d.jsx)(s.td,{children:"Sends message to WebSocket"})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"clearLastMessage"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"() => void"})}),(0,d.jsx)(s.td,{children:"Clears the latest received message"})]})]})]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h4,{id:"handlestart-void",children:(0,d.jsx)(s.code,{children:"handleStart(): void"})}),"\n",(0,d.jsx)(s.p,{children:"Attempts to join an existing game session using the entered 5-character code."}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),":",(0,d.jsx)(s.br,{}),"\n","Validates the session with the backend. If valid, generates a user ID and navigates to the RoleSelect screen.",(0,d.jsx)(s.br,{}),"\n","If invalid, resets input and shows error feedback."]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Pre-condition"}),":",(0,d.jsx)(s.br,{}),"\n","Code must be exactly 5 characters."]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Post-condition"}),":",(0,d.jsx)(s.br,{}),"\n","Navigates to ",(0,d.jsx)(s.code,{children:"/roleselect/:gameCode"})," with a generated ",(0,d.jsx)(s.code,{children:"userId"}),"."]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Error Handling"}),":",(0,d.jsx)(s.br,{}),"\n","Logs validation failure and resets inputs if the session is invalid."]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h4,{id:"handlecreategame-void",children:(0,d.jsx)(s.code,{children:"handleCreateGame(): void"})}),"\n",(0,d.jsxs)(s.p,{children:["Sends a request to the server to create a new game session.",(0,d.jsx)(s.br,{}),"\n","If successful, navigates to the presenter screen with the session ID."]}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Error Handling"}),":",(0,d.jsx)(s.br,{}),"\n","Shows an alert if not connected to the server."]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h4,{id:"handlechangevalue-string-index-number-void",children:(0,d.jsx)(s.code,{children:"handleChange(value: string, index: number): void"})}),"\n",(0,d.jsx)(s.p,{children:"Handles user input and moves focus to the next input box."}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"value"}),": Character entered"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"index"}),": Input index in the session code"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h4,{id:"handlekeydowne-keyboardevent-index-number-void",children:(0,d.jsx)(s.code,{children:"handleKeyDown(e: KeyboardEvent, index: number): void"})}),"\n",(0,d.jsx)(s.p,{children:"Handles backspace to move focus to the previous input box."}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"e"}),": Keyboard event"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"index"}),": Index of input field"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h4,{id:"handlepastee-clipboardevent-void",children:(0,d.jsx)(s.code,{children:"handlePaste(e: ClipboardEvent): void"})}),"\n",(0,d.jsx)(s.p,{children:"Allows user to paste a full 5-character code."}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Behavior"}),":",(0,d.jsx)(s.br,{}),"\n","Distributes characters across input fields and focuses the next empty input."]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h4,{id:"return",children:"Return"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": ",(0,d.jsx)(s.code,{children:"JSX.Element"})," \u2014 The rendered landing page UI."]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"navigation-logic",children:"Navigation Logic"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["\n",(0,d.jsxs)(s.p,{children:["If ",(0,d.jsx)(s.code,{children:"SESSION_VALIDATED"})," is received:",(0,d.jsx)(s.br,{}),"\n","Navigates to ",(0,d.jsx)(s.code,{children:"/roleselect/:gameCode"})," with a randomly generated ",(0,d.jsx)(s.code,{children:"userId"}),"."]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:["\n",(0,d.jsxs)(s.p,{children:["If ",(0,d.jsx)(s.code,{children:"SESSION_CREATED"})," is received:",(0,d.jsx)(s.br,{}),"\n","Navigates to ",(0,d.jsx)(s.code,{children:"/presenter/:sessionId"}),"."]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h2,{id:"buttonclicktsx",children:"ButtonClick.tsx"}),"\n",(0,d.jsxs)(s.h3,{id:"buttonclick-component",children:[(0,d.jsx)(s.code,{children:"ButtonClick"})," Component"]}),"\n",(0,d.jsxs)(s.p,{children:["A ",(0,d.jsx)(s.strong,{children:"reusable styled button"})," component that executes a callback function when clicked."]}),"\n",(0,d.jsx)(s.h4,{id:"usage",children:"Usage"}),"\n",(0,d.jsx)(s.pre,{children:(0,d.jsx)(s.code,{className:"language-tsx",children:'<ButtonClick text="Join Game" onClick={handleStart} />\n'})}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h4,{id:"interface-buttonclickprops",children:(0,d.jsx)(s.code,{children:"interface ButtonClickProps"})}),"\n",(0,d.jsxs)(s.p,{children:["Props for the ",(0,d.jsx)(s.code,{children:"ButtonClick"})," component:"]}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"text: string"})," \u2014 The label text to display inside the button."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"onClick: () => void"})," \u2014 Callback function triggered when the button is clicked."]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h4,{id:"function-buttonclick-text-onclick--buttonclickprops-jsxelement",children:(0,d.jsx)(s.code,{children:"function ButtonClick({ text, onClick }: ButtonClickProps): JSX.Element"})}),"\n",(0,d.jsx)(s.p,{children:"Renders the button with styles and binds the click event."}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Parameters:"}),(0,d.jsx)(s.br,{}),"\n",(0,d.jsx)(s.code,{children:"text"})," \u2014 Button label",(0,d.jsx)(s.br,{}),"\n",(0,d.jsx)(s.code,{children:"onClick"})," \u2014 Click handler"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:["\n",(0,d.jsxs)(s.p,{children:[(0,d.jsx)(s.strong,{children:"Returns:"}),(0,d.jsx)(s.br,{}),"\n",(0,d.jsx)(s.code,{children:"JSX.Element"})," \u2014 A styled button element"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h2,{id:"phaserpagetsx",children:"PhaserPage.tsx"}),"\n",(0,d.jsx)(s.h3,{id:"data-fields-2",children:"Data Fields"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Field"}),(0,d.jsx)(s.th,{children:"Type"}),(0,d.jsx)(s.th,{children:"Purpose"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"currentFood"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"AacFood | null"})}),(0,d.jsx)(s.td,{children:"The current food the AAC user has selected as the target."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"scores"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Record<string, number>"})}),(0,d.jsx)(s.td,{children:"Player score map, updated via WebSocket."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"gameMode"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"GameMode | null"})}),(0,d.jsxs)(s.td,{children:["The game difficulty mode (",(0,d.jsx)(s.code,{children:"Easy"}),", ",(0,d.jsx)(s.code,{children:"Medium"}),", ",(0,d.jsx)(s.code,{children:"Hard"}),")."]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"secondsLeft"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"number"})}),(0,d.jsx)(s.td,{children:"Countdown timer shown in sidebar."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"sessionId"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string | undefined"})}),(0,d.jsx)(s.td,{children:"Unique session ID from URL params."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"userId"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string | undefined"})}),(0,d.jsx)(s.td,{children:"Current user ID from URL params."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"location"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Location"})}),(0,d.jsxs)(s.td,{children:["From ",(0,d.jsx)(s.code,{children:"useLocation()"}),"; contains user role (",(0,d.jsx)(s.code,{children:"Hippo"}),", ",(0,d.jsx)(s.code,{children:"AAC"}),", ",(0,d.jsx)(s.code,{children:"Spectator"}),") in ",(0,d.jsx)(s.code,{children:".state"}),"."]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"navigate"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"ReturnType<typeof useNavigate>"})}),(0,d.jsx)(s.td,{children:"React Router navigation function."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"isSpectator"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"boolean"})}),(0,d.jsxs)(s.td,{children:[(0,d.jsx)(s.code,{children:"true"})," if the current user is a spectator (from location state)."]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"phaserRef"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"React.RefObject<IRefPhaserGame | null>"})}),(0,d.jsxs)(s.td,{children:["Reference to Phaser game and scene (",(0,d.jsx)(s.code,{children:"{ game, scene }"}),"). Passed into ",(0,d.jsx)(s.code,{children:"<PhaserGame />"}),"."]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"connectedUsers"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"{ userId, role, color? }[]"})}),(0,d.jsx)(s.td,{children:"List of all players in the current session."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"lastMessage"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"any"})}),(0,d.jsx)(s.td,{children:"Most recent message received over WebSocket."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"sendMessage"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"(msg: any) => void"})}),(0,d.jsx)(s.td,{children:"Sends data to the backend WebSocket server."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"clearLastMessage"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"() => void"})}),(0,d.jsxs)(s.td,{children:["Clears ",(0,d.jsx)(s.code,{children:"lastMessage"})," to avoid duplicate handling."]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"colors"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Record<string, string>"})}),(0,d.jsx)(s.td,{children:"Maps each user ID to their assigned hippo color, for leaderboard use."})]})]})]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"join-on-mount",children:"JOIN on MOUNT"}),"\n",(0,d.jsx)(s.h4,{id:"useeffect---sessionid-userid-role",children:(0,d.jsx)(s.code,{children:"useEffect(() => {...}, [sessionId, userId, role])"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Joins the WebSocket session when the component mounts."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),": None directly."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": Requires valid ",(0,d.jsx)(s.code,{children:"sessionId"}),", ",(0,d.jsx)(s.code,{children:"userId"}),", and ",(0,d.jsx)(s.code,{children:"role"}),"."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None."]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"remote-player-movement-sync",children:"REMOTE PLAYER MOVEMENT SYNC"}),"\n",(0,d.jsx)(s.h4,{id:"useeffect---lastmessage-userid-clearlastmessage",children:(0,d.jsx)(s.code,{children:"useEffect(() => {...}, [lastMessage, userId, clearLastMessage])"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Updates remote player movement when a ",(0,d.jsx)(s.code,{children:"PLAYER_MOVE_BROADCAST"})," is received."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"lastMessage"}),": contains the payload with ",(0,d.jsx)(s.code,{children:"userId"}),", ",(0,d.jsx)(s.code,{children:"x"}),", ",(0,d.jsx)(s.code,{children:"y"}),"."]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": Scene must exist and support ",(0,d.jsx)(s.code,{children:"updateRemotePlayer()"}),"."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None."]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"game-mode-broadcast",children:"GAME MODE BROADCAST"}),"\n",(0,d.jsx)(s.h4,{id:"useeffect---lastmessage-clearlastmessage",children:(0,d.jsx)(s.code,{children:"useEffect(() => {...}, [lastMessage, clearLastMessage])"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Applies game mode settings when ",(0,d.jsx)(s.code,{children:"START_GAME_BROADCAST"})," is received."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsx)(s.li,{children:(0,d.jsx)(s.code,{children:"lastMessage.payload.mode: GameMode"})}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": Scene must support ",(0,d.jsx)(s.code,{children:"applyModeSettings()"}),"."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None."]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"food-state-sync",children:"FOOD STATE SYNC"}),"\n",(0,d.jsx)(s.h4,{id:"useeffect---lastmessage-clearlastmessage-1",children:(0,d.jsx)(s.code,{children:"useEffect(() => {...}, [lastMessage, clearLastMessage])"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Handles multiple WebSocket message types:","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"FOOD_STATE_UPDATE"}),": syncs food state via ",(0,d.jsx)(s.code,{children:"EventBus"}),"."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"AAC_TARGET_FOOD"}),": sets the target food in the scene and sidebar."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"REMOVE_FOOD"}),": deletes food object from scene."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"PLAYER_EFFECT_BROADCAST"}),": applies effects via ",(0,d.jsx)(s.code,{children:"EventBus"}),"."]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),": ",(0,d.jsx)(s.code,{children:"lastMessage"})," payload varies by type."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": Scene must support relevant methods."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None."]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"fruit-eaten-local-emitted-from-phaser",children:"FRUIT EATEN LOCAL (EMITTED FROM PHASER)"}),"\n",(0,d.jsx)(s.h4,{id:"useeffect---sendmessage-sessionid",children:(0,d.jsx)(s.code,{children:"useEffect(() => {...}, [sendMessage, sessionId])"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Emits ",(0,d.jsx)(s.code,{children:"FRUIT_EATEN"})," to backend when triggered by the Phaser scene."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),": ",(0,d.jsx)(s.code,{children:"instanceId"})," from ",(0,d.jsx)(s.code,{children:"EventBus"}),"."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": Requires ",(0,d.jsx)(s.code,{children:"sessionId"})," and ",(0,d.jsx)(s.code,{children:"sendMessage"}),"."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None."]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"score-update-broadcast-eventbus",children:"SCORE UPDATE BROADCAST (EVENTBUS)"}),"\n",(0,d.jsx)(s.h4,{id:"useeffect---",children:(0,d.jsx)(s.code,{children:"useEffect(() => {...}, [])"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Updates the local scoreboard when ",(0,d.jsx)(s.code,{children:"scoreUpdate"})," is emitted from ",(0,d.jsx)(s.code,{children:"EventBus"}),"."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),": ",(0,d.jsx)(s.code,{children:"{ scores }"})]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": None"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"timer-update-broadcast-eventbus",children:"TIMER UPDATE BROADCAST (EVENTBUS)"}),"\n",(0,d.jsx)(s.h4,{id:"useeffect----1",children:(0,d.jsx)(s.code,{children:"useEffect(() => {...}, [])"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Updates the timer when ",(0,d.jsx)(s.code,{children:"TIMER_UPDATE"})," is emitted from ",(0,d.jsx)(s.code,{children:"EventBus"}),"."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),": ",(0,d.jsx)(s.code,{children:"time: number"})]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": Timer must be active"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"game-over--victory-navigation",children:"GAME OVER \u2192 VICTORY NAVIGATION"}),"\n",(0,d.jsx)(s.h4,{id:"useeffect---navigate-sessionid-scores-connectedusers",children:(0,d.jsx)(s.code,{children:"useEffect(() => {...}, [navigate, sessionId, scores, connectedUsers])"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Navigates to the Victory page when ",(0,d.jsx)(s.code,{children:"gameOver"})," is emitted."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),": none"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": ",(0,d.jsx)(s.code,{children:"sessionId"})," must exist"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": Falls back to ",(0,d.jsx)(s.code,{children:"/"})," if ",(0,d.jsx)(s.code,{children:"sessionId"})," is missing"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"set-edge-sync-with-backend",children:"SET EDGE SYNC WITH BACKEND"}),"\n",(0,d.jsx)(s.h4,{id:"useeffect---sendmessage-sessionid-userid-locationstaterole",children:(0,d.jsx)(s.code,{children:"useEffect(() => {...}, [sendMessage, sessionId, userId, location.state?.role])"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Sends ",(0,d.jsx)(s.code,{children:"SET_EDGE"})," to backend after ",(0,d.jsx)(s.code,{children:"edges-ready"})," is emitted from the scene."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),": ",(0,d.jsx)(s.code,{children:"{ sessionId, userId, edge }"})]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": User must not be a Spectator, and edge must be known."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Exceptions"}),": None"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h2,{id:"presentertsx",children:"Presenter.tsx"}),"\n",(0,d.jsx)(s.h3,{id:"data-fields-3",children:"Data Fields"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Field"}),(0,d.jsx)(s.th,{children:"Type"}),(0,d.jsx)(s.th,{children:"Purpose"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"presenterBg"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string"})}),(0,d.jsx)(s.td,{children:"Path to the background image shown behind hippos and AAC device."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"modeDetails"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Record<string, {label: string, iconPath: string, count: number}>"})}),(0,d.jsx)(s.td,{children:"Metadata for each game mode (label, icon, count) used in the mode selector UI."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"navigate"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"ReturnType<typeof useNavigate>"})}),(0,d.jsx)(s.td,{children:"React Router navigation function."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"sessionId"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string | undefined"})}),(0,d.jsx)(s.td,{children:"Session ID extracted from URL parameters, used for WebSocket joining and QR code."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"copied"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"boolean"})}),(0,d.jsx)(s.td,{children:"State tracking if the session code was copied to clipboard (for tooltip display)."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"mode"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"'Easy' | 'Medium' | 'Hard'"})}),(0,d.jsx)(s.td,{children:"Currently selected game mode."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"presenterId"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string"})}),(0,d.jsx)(s.td,{children:"Hardcoded userId for the Presenter client."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"sendMessage"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"(msg: any) => void"})}),(0,d.jsx)(s.td,{children:"WebSocket send function from context."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"connectedUsers"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Array<{ userId: string, role: string, color?: string }>"})}),(0,d.jsx)(s.td,{children:"List of all connected users in the session, received via WebSocket."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"isConnected"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"boolean"})}),(0,d.jsx)(s.td,{children:"Whether the WebSocket connection is currently open."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"modes"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Array<'Easy' | 'Medium' | 'Hard'>"})}),(0,d.jsx)(s.td,{children:"Array of game modes in cycle order."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"spectatorId"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string"})}),(0,d.jsx)(s.td,{children:"User ID used when the Presenter opens a Spectator client to watch the game."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"aacCount"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"number"})}),(0,d.jsx)(s.td,{children:"Number of connected AAC Users in the session."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"hippoPlayers"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Array<any>"})}),(0,d.jsx)(s.td,{children:"List of connected Hippo Players in the session."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"lobbyHippoSlots"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Array<number>"})}),(0,d.jsx)(s.td,{children:"Indices representing the 4 hippo slots displayed in the lobby UI."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"showHelpGif"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"boolean"})}),(0,d.jsx)(s.td,{children:"State that determines whether the instructional mode GIF overlay is visible or hidden."})]})]})]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"lifecycle--effects",children:"Lifecycle & Effects"}),"\n",(0,d.jsx)(s.h4,{id:"useeffect---mode",children:(0,d.jsx)(s.code,{children:"useEffect(() => {...}, [mode])"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Plays audio feedback corresponding to the current selected game mode."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": ",(0,d.jsx)(s.code,{children:"mode"})," must be one of ",(0,d.jsx)(s.code,{children:"'Easy'"}),", ",(0,d.jsx)(s.code,{children:"'Medium'"}),", or ",(0,d.jsx)(s.code,{children:"'Hard'"}),"."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"useeffect---sessionid-isconnected-sendmessage",children:(0,d.jsx)(s.code,{children:"useEffect(() => {...}, [sessionId, isConnected, sendMessage])"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": When WebSocket connects, send a ",(0,d.jsx)(s.code,{children:"PLAYER_JOIN"})," message to register as the Presenter."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": ",(0,d.jsx)(s.code,{children:"sessionId"})," must be valid and WebSocket must be connected."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"functions",children:"Functions"}),"\n",(0,d.jsx)(s.h4,{id:"cyclemodedirection-left--right-void",children:(0,d.jsx)(s.code,{children:"cycleMode(direction: 'left' | 'right'): void"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Changes the current game mode by cycling left (previous) or right (next)."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),": ",(0,d.jsx)(s.code,{children:"'left'"})," or ",(0,d.jsx)(s.code,{children:"'right'"})]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"playmodeaudioselectedmode-easy--medium--hard-void",children:(0,d.jsx)(s.code,{children:"playModeAudio(selectedMode: 'Easy' | 'Medium' | 'Hard'): void"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Plays the audio file associated with the given game mode."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),": ",(0,d.jsx)(s.code,{children:"selectedMode"})," - The mode to play audio for."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"handlecancel-void",children:(0,d.jsx)(s.code,{children:"handleCancel(): void"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Navigates back to the landing page when the cancel button is clicked."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"handlecopy-void",children:(0,d.jsx)(s.code,{children:"handleCopy(): void"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Copies the current session ID to the clipboard and shows a tooltip."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"handlestartgame-void",children:(0,d.jsx)(s.code,{children:"handleStartGame(): void"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Sends messages to start the game and opens a Spectator client, then navigates there."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": ",(0,d.jsx)(s.code,{children:"sessionId"})," must be valid; at least 1 Hippo and 1 AAC user connected."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"renderhipposlotplayer-any-index-number-jsxelement",children:(0,d.jsx)(s.code,{children:"renderHippoSlot(player: any, index: number): JSX.Element"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Renders a UI slot for a hippo player, including colored hippo images if occupied."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),":","\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"player"})," - User occupying the slot or undefined."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.code,{children:"index"})," - Slot index (0-3)."]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": JSX element representing the hippo slot."]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"validation",children:"Validation"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["If ",(0,d.jsx)(s.code,{children:"sessionId"})," is missing or invalid (less than 5 characters), the component redirects to the landing page (",(0,d.jsx)(s.code,{children:"/"}),")."]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h2,{id:"roleselecttsx",children:"RoleSelect.tsx"}),"\n",(0,d.jsx)(s.h3,{id:"data-fields-4",children:"Data Fields"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Field"}),(0,d.jsx)(s.th,{children:"Type"}),(0,d.jsx)(s.th,{children:"Purpose"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"navigate"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"ReturnType<typeof useNavigate>"})}),(0,d.jsx)(s.td,{children:"React Router navigation function."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"sessionId"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string | undefined"})}),(0,d.jsx)(s.td,{children:"Session ID from route parameters."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"location"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"ReturnType<typeof useLocation>"})}),(0,d.jsx)(s.td,{children:"React Router location object; used to get passed userId state."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"role"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string"})}),(0,d.jsxs)(s.td,{children:["Current selected role (",(0,d.jsx)(s.code,{children:"'Hippo Player'"}),", ",(0,d.jsx)(s.code,{children:"'AAC User'"}),", or empty string)."]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"selectedColor"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string | null"})}),(0,d.jsx)(s.td,{children:"Selected hippo color for Hippo Player role."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"username"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string"})}),(0,d.jsx)(s.td,{children:"Randomly generated user ID or passed userId from location state."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"waiting"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"boolean"})}),(0,d.jsx)(s.td,{children:'Whether the user clicked "Next" and is waiting for the game to start.'})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"connectedUsers"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Array<{ userId: string, role: string, color?: string }>"})}),(0,d.jsx)(s.td,{children:"List of all connected users in the session."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"gameStarted"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"boolean"})}),(0,d.jsx)(s.td,{children:"Whether the game has started (from WebSocket context)."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"sendMessage"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"(msg: any) => void"})}),(0,d.jsx)(s.td,{children:"WebSocket send function."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"isConnected"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"boolean"})}),(0,d.jsx)(s.td,{children:"WebSocket connection status."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"takenColors"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"string[]"})}),(0,d.jsx)(s.td,{children:"Hippo colors currently taken by connected Hippo Players."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"hippoPlayersCount"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"number"})}),(0,d.jsx)(s.td,{children:"Number of connected Hippo Players."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"aacUsersCount"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"number"})}),(0,d.jsx)(s.td,{children:"Number of connected AAC Users."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"isHippoRoleFull"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"boolean"})}),(0,d.jsx)(s.td,{children:"True if Hippo Player role is full (4 players)."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"isAacRoleFull"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"boolean"})}),(0,d.jsx)(s.td,{children:"True if AAC User role is full (1 user)."})]})]})]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"lifecycle--effects-1",children:"Lifecycle & Effects"}),"\n",(0,d.jsx)(s.h4,{id:"useeffect---gamestarted-waiting-role-selectedcolor-sessionid-username-navigate",children:(0,d.jsx)(s.code,{children:"useEffect(() => {...}, [gameStarted, waiting, role, selectedColor, sessionId, username, navigate])"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),': Navigates to the appropriate game screen once the game has started and user clicked "Next".']}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": ",(0,d.jsx)(s.code,{children:"waiting"}),' must be true (after "Next" clicked), and ',(0,d.jsx)(s.code,{children:"gameStarted"})," must become true."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"useeffect---sessionid-username-isconnected-sendmessage",children:(0,d.jsx)(s.code,{children:"useEffect(() => {...}, [sessionId, username, isConnected, sendMessage])"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Sends initial ",(0,d.jsx)(s.code,{children:"PLAYER_JOIN"})," with role ",(0,d.jsx)(s.code,{children:'"pending"'})," to WebSocket on mount."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": ",(0,d.jsx)(s.code,{children:"sessionId"})," and ",(0,d.jsx)(s.code,{children:"username"})," must be defined; WebSocket must be connected."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"useeffect---connectedusers",children:(0,d.jsx)(s.code,{children:"useEffect(() => {...}, [connectedUsers])"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Tracks which hippo colors are taken by filtering connected Hippo Players."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"useeffect---connectedusers-role-isaacrolefull",children:(0,d.jsx)(s.code,{children:"useEffect(() => {...}, [connectedUsers, role, isAacRoleFull])"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Resets role if AAC User role is full and current role is AAC User."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"functions-1",children:"Functions"}),"\n",(0,d.jsx)(s.h4,{id:"handlestart-void-1",children:(0,d.jsx)(s.code,{children:"handleStart(): void"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Validates selection and sends ",(0,d.jsx)(s.code,{children:"PLAYER_JOIN"})," with chosen role and color; sets waiting state."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Pre-conditions"}),": Role must be selected; Hippo Player requires a color."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"handleroleselectselectedrole-string-void",children:(0,d.jsx)(s.code,{children:"handleRoleSelect(selectedRole: string): void"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Handles switching roles, releasing color if switching from Hippo Player."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),": ",(0,d.jsx)(s.code,{children:"selectedRole"})," - the new selected role string."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"handlecolorselectcolor-string-void",children:(0,d.jsx)(s.code,{children:"handleColorSelect(color: string): void"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Sets selected color and sends ",(0,d.jsx)(s.code,{children:"SELECT_COLOR"})," WebSocket message."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Parameters"}),": ",(0,d.jsx)(s.code,{children:"color"})," - hippo color string."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n"]}),"\n",(0,d.jsx)(s.h4,{id:"handlecancel-void-1",children:(0,d.jsx)(s.code,{children:"handleCancel(): void"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Navigates back to the landing page on cancel."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"validation-1",children:"Validation"}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:["Requires valid ",(0,d.jsx)(s.code,{children:"sessionId"}),"."]}),"\n",(0,d.jsx)(s.li,{children:"Generates a random username if none provided from location state."}),"\n"]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h2,{id:"victorytsx",children:"Victory.tsx"}),"\n",(0,d.jsx)(s.h3,{id:"data-fields-5",children:"Data Fields"}),"\n",(0,d.jsxs)(s.table,{children:[(0,d.jsx)(s.thead,{children:(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.th,{children:"Field"}),(0,d.jsx)(s.th,{children:"Type"}),(0,d.jsx)(s.th,{children:"Purpose"})]})}),(0,d.jsxs)(s.tbody,{children:[(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"location"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"ReturnType<typeof useLocation>"})}),(0,d.jsx)(s.td,{children:"React Router location object, used to access passed state data."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"scores"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Record<string, number>"})}),(0,d.jsxs)(s.td,{children:["Player scores extracted from ",(0,d.jsx)(s.code,{children:"location.state"}),". Defaults to ",(0,d.jsx)(s.code,{children:"{}"}),"."]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"navigate"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"ReturnType<typeof useNavigate>"})}),(0,d.jsx)(s.td,{children:"React Router navigation function."})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"colors"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"Record<string, string>"})}),(0,d.jsxs)(s.td,{children:["Maps player IDs to their hippo colors from ",(0,d.jsx)(s.code,{children:"location.state"}),"."]})]}),(0,d.jsxs)(s.tr,{children:[(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"sortedPlayers"})}),(0,d.jsx)(s.td,{children:(0,d.jsx)(s.code,{children:"[string, number][]"})}),(0,d.jsxs)(s.td,{children:["Array of ",(0,d.jsx)(s.code,{children:"[playerId, score]"})," tuples sorted descending by score."]})]})]})]}),"\n",(0,d.jsx)(s.hr,{}),"\n",(0,d.jsx)(s.h3,{id:"functions-2",children:"Functions"}),"\n",(0,d.jsx)(s.h4,{id:"handlecancel-void-2",children:(0,d.jsx)(s.code,{children:"handleCancel(): void"})}),"\n",(0,d.jsxs)(s.ul,{children:["\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Purpose"}),": Navigates the user back to the home page when cancel button is clicked."]}),"\n",(0,d.jsxs)(s.li,{children:[(0,d.jsx)(s.strong,{children:"Returns"}),": void"]}),"\n"]}),"\n",(0,d.jsx)(s.hr,{})]})}function a(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,d.jsx)(s,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>c,x:()=>l});var d=n(96540);const i={},r=d.createContext(i);function c(e){const s=d.useContext(r);return d.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),d.createElement(r.Provider,{value:s},e.children)}}}]);